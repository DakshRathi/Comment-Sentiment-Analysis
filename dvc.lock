schema: '2.0'
stages:
  data_ingestion:
    cmd: python src/data_ingestion.py
    deps:
    - path: src/data_ingestion.py
      hash: md5
      md5: 61c3e3f3c54f2b01b982df30cdf51aca
      size: 5180
    params:
      params.yaml:
        data_ingestion.random_state: 42
        data_ingestion.test_size: 0.2
    outs:
    - path: data/raw
      hash: md5
      md5: ebfc15a9f9df4eb374e2ca32c6c67dea.dir
      size: 6874644
      nfiles: 2
  data_preprocessing:
    cmd: python src/data_preprocessing.py
    deps:
    - path: data/raw/test.csv
      hash: md5
      md5: a00a45e74bb8882973e22b293ae870c2
      size: 1330337
    - path: data/raw/train.csv
      hash: md5
      md5: 35394d0288bcab6b1b31617abca296fa
      size: 5544307
    - path: src/data_preprocessing.py
      hash: md5
      md5: b0d9db1e9e2bbb303b7d60186fd9353a
      size: 3497
    outs:
    - path: data/interim
      hash: md5
      md5: a2036850739c01d1cf7fa16c0f8c5e36.dir
      size: 6064767
      nfiles: 2
  feature_extraction:
    cmd: python src/feature_extraction.py
    deps:
    - path: data/interim/train_processed.csv
      hash: md5
      md5: 36b1a69770a88c0bc9cd403ce48b0fa2
      size: 4884264
    - path: src/feature_extraction.py
      hash: md5
      md5: 88774cf6e3c00ddec679b9ab2c447351
      size: 3882
    outs:
    - path: data/processed
      hash: md5
      md5: 0a4b2f7d0fb229b1b1b69a89bcdf1660.dir
      size: 1114385042
      nfiles: 2
    - path: models/tfidf_vectorizer.joblib
      hash: md5
      md5: 1afdef50be159b0dae088c045bfbe3fe
      size: 355435
  model_building:
    cmd: python src/model_building.py
    deps:
    - path: data/processed
      hash: md5
      md5: 0a4b2f7d0fb229b1b1b69a89bcdf1660.dir
      size: 1114385042
      nfiles: 2
    - path: src/model_building.py
      hash: md5
      md5: 08b1efb746b61ccd44699561921e3fe6
      size: 3076
    params:
      params.yaml:
        model_building.class_weight: balanced
        model_building.colsample_bytree: 0.7616387832635141
        model_building.learning_rate: 0.040414882180645394
        model_building.max_depth: 11
        model_building.min_child_samples: 23
        model_building.n_estimators: 980
        model_building.num_class: 3
        model_building.num_leaves: 79
        model_building.objective: multiclass
        model_building.random_state: 42
        model_building.reg_alpha: 1.8391205366209558e-06
        model_building.reg_lambda: 0.0005919096233992369
        model_building.subsample: 0.9653126342291365
    outs:
    - path: models/lgbm_model.joblib
      hash: md5
      md5: b4e7984c802a9f2a0843ccc418fed0db
      size: 11454236
  model_evaluation:
    cmd: python src/model_evaluation.py
    deps:
    - path: data/interim/test_processed.csv
      hash: md5
      md5: aaa8c56fea9d7dcd0ed117e260cbd92d
      size: 1180503
    - path: models/lgbm_model.joblib
      hash: md5
      md5: b4e7984c802a9f2a0843ccc418fed0db
      size: 11454236
    - path: models/tfidf_vectorizer.joblib
      hash: md5
      md5: 1afdef50be159b0dae088c045bfbe3fe
      size: 355435
    - path: src/model_evaluation.py
      hash: md5
      md5: 008e2044f4735122030b8e3b504196e4
      size: 7326
    outs:
    - path: data/visualizations/confusion_matrix_Test_Data.png
      hash: md5
      md5: 920d4e161471fd33e53ae3193e7d4b5d
      size: 22737
    - path: experiment_info.json
      hash: md5
      md5: cdd99a3dafe5f8c28684b36936b84f0e
      size: 127
  model_registration:
    cmd: python src/register_model.py
    deps:
    - path: experiment_info.json
      hash: md5
      md5: cdd99a3dafe5f8c28684b36936b84f0e
      size: 127
    - path: src/register_model.py
      hash: md5
      md5: 7bae9b5c4e7cb82f7a7dd28b1e8d235d
      size: 4317
